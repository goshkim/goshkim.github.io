---
import NavDropdownMenu from '@/components/nav-dropdown-menu';
import SearchCommandDialog from '@/components/search-command-dialog';
import ThemeDropdownMenu from '@/components/theme-dropdown-menu';
import { Link } from '@/components/ui/link';
import { SITE } from '@/config';
import { getPosts } from '@/lib/posts';

const posts = await getPosts();
---

<header
  class="sticky top-0 z-30 flex h-16 w-full items-center border-b border-default-200 bg-white/90 backdrop-blur-sm dark:border-default-800 dark:bg-default-900/90"
>
  <div class="mx-auto flex w-full max-w-screen-2xl items-center justify-end px-3 lg:px-6">
    <div class="flex grow items-center">
      <Link
        href="/"
        underline="none"
        className="font-blackHanSans capitalize tracking-tighter text-default-900 dark:text-default-50"
      >
        {SITE.title}
      </Link>
    </div>
    <div class="flex items-center gap-x-0.5">
      <SearchCommandDialog posts={posts} client:load />
      <!-- TODO: 클라이언트 컴포넌트 깜빡이는 문제 해결 -->
      <ThemeDropdownMenu client:only="react" />
      <NavDropdownMenu client:load />
    </div>
  </div>
</header>
